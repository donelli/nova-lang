(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")},147:e=>{e.exports=require("fs")}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var s=r[o]={exports:{}};return e[o](s,s.exports,t),s.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const r=t(81),n=t(147),s=t(496);let i;function a(e){if("recital"!==e.languageId)return;i.set(e.uri,void 0);const t=e.uri.fsPath;(0,r.execSync)(`E:\\Projects\\recital\\rt.exe parse ${t} -json E:\\Projects\\recital\\out.json`),(0,n.readFile)("E:\\Projects\\recital\\out.json","utf-8",((r,t)=>{if(r)return void s.window.showErrorMessage(r.message);const o=JSON.parse(t),n=[];console.log(o);for(let e of o.errors){let r=new s.Position(e.range.start.row,e.range.start.column),t=new s.Position(e.range.end.row,e.range.end.column);n.push(new s.Diagnostic(new s.Range(r,t),e.type+" "+e.message,s.DiagnosticSeverity.Error))}for(let e of o.warnings){let r=new s.Position(e.range.start.row,e.range.start.column),t=new s.Position(e.range.end.row,e.range.end.column);n.push(new s.Diagnostic(new s.Range(r,t),e.type+" "+e.message,s.DiagnosticSeverity.Warning))}i.set(e.uri,n),console.log(n)}))}e.activate=function(e){i=s.languages.createDiagnosticCollection("recital");let r=s.workspace.onDidOpenTextDocument((e=>{a(e)})),t=s.workspace.onDidSaveTextDocument((e=>{a(e)}));e.subscriptions.push(r,t,i)},e.deactivate=function(){}})(),module.exports=o})();